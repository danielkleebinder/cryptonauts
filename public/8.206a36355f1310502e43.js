(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{t9QY:function(t,e,n){"use strict";n.r(e),n.d(e,"PlanetsModule",function(){return tt});var i=n("ofXK"),o=n("tyNb"),s=n("Qu3c"),a=n("bTqV"),c=n("NFeN"),r=n("A5z7"),l=n("f0Cb"),u=n("XhcP"),d=n("l7P3"),p=n("9jGm"),b=n("R0Ic");const m=Object(b.l)("slideOut",[Object(b.k)(":leave",[Object(b.j)({opacity:1,bottom:"48px"}),Object(b.e)("250ms",Object(b.j)({opacity:0,bottom:0}))]),Object(b.k)(":enter",[Object(b.j)({opacity:0,bottom:0}),Object(b.e)("250ms",Object(b.j)({opacity:1,bottom:"48px"}))])]);var h=n("fXoL");const g=Object(d.g)("[Planets Page] Load planets"),f=Object(d.g)("[Planets API] Load planets success",Object(d.l)()),v=Object(d.g)("[Planets Page] Clear planets"),O=(Object(d.g)("[Planets Page] Leave planet"),Object(d.g)("[Planets Page] Start planet exploration",Object(d.l)()),Object(d.g)("[Planets Page] Collect mined resourced"),Object(d.g)("[Admin Page] Set travel time",Object(d.l)()),Object(d.g)("[Planets Page] Load travel time"),Object(d.g)("[Planets API] Load travel time success",Object(d.l)()));var j=n("EY2u"),y=n("eIep"),P=n("vkgz"),S=n("lJxs"),C=n("JIr8"),x=n("a+Vh"),w=n("Cfvw"),k=n("LRg+"),M=n("Wbq9");let R=(()=>{class t{constructor(t,e){this.web3=t,this.blockchain=e}getPlanets(){return Object(w.a)(this.blockchain.contract.methods.getPlanets().call())}leavePlanet(){return Object(w.a)(this.blockchain.contract.methods.leavePlanet().send({from:this.blockchain.player}))}}return t.\u0275fac=function(e){return new(e||t)(h.Wb(k.a),h.Wb(M.a))},t.\u0275prov=h.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var N=n("VO+5");let I=(()=>{class t{constructor(e,n,i){this.actions$=e,this.planetsService=n,this.notifierService=i,this.log=x.a.getLogger(t),this.loadPlanets$=Object(p.c)(()=>this.actions$.pipe(Object(p.d)(g),Object(y.a)(()=>this.planetsService.getPlanets().pipe(Object(P.a)(()=>this.notifierService.notify("success","Planets loaded successfully")),Object(S.a)(t=>f({planets:t})),Object(C.a)(t=>(this.log.warn(t),this.notifierService.notify("error",t),j.a))))))}}return t.\u0275fac=function(e){return new(e||t)(h.Wb(p.a),h.Wb(R),h.Wb(N.c))},t.\u0275prov=h.Ib({token:t,factory:t.\u0275fac}),t})();var _=function(t){return t[t.EntitiesOnly=0]="EntitiesOnly",t[t.Both=1]="Both",t[t.None=2]="None",t}({});function A(t){return function(e,n){const i={ids:[...n.ids],entities:Object.assign({},n.entities)},o=t(e,i);return o===_.Both?Object.assign({},n,i):o===_.EntitiesOnly?Object.assign(Object.assign({},n),{entities:i.entities}):n}}function B(t,e){const n=e(t);return Object(h.X)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),n}function T(t){function e(e,n){const i=B(e,t);return i in n.entities?_.None:(n.ids.push(i),n.entities[i]=e,_.Both)}function n(t,n){let i=!1;for(const o of t)i=e(o,n)!==_.None||i;return i?_.Both:_.None}function i(t,e){const n=(t instanceof Array?t:e.ids.filter(n=>t(e.entities[n]))).filter(t=>t in e.entities).map(t=>delete e.entities[t]).length>0;return n&&(e.ids=e.ids.filter(t=>t in e.entities)),n?_.Both:_.None}function o(t,e){return s([t],e)}function s(e,n){const i={};return(e=e.filter(t=>t.id in n.entities)).length>0?e.filter(e=>function(e,n,i){const o=Object.assign({},i.entities[n.id],n.changes),s=B(o,t),a=s!==n.id;return a&&(e[n.id]=s,delete i.entities[n.id]),i.entities[s]=o,a}(i,e,n)).length>0?(n.ids=n.ids.map(t=>i[t]||t),_.Both):_.EntitiesOnly:_.None}function a(e,i){const o=[],a=[];for(const n of e){const e=B(n,t);e in i.entities?a.push({id:e,changes:n}):o.push(n)}const c=s(a,i),r=n(o,i);switch(!0){case r===_.None&&c===_.None:return _.None;case r===_.Both||c===_.Both:return _.Both;default:return _.EntitiesOnly}}return{removeAll:function(t){return Object.assign({},t,{ids:[],entities:{}})},addOne:A(e),addMany:A(n),setAll:A(function(t,e){return e.ids=[],e.entities={},n(t,e),_.Both}),setOne:A(function(e,n){const i=B(e,t);return i in n.entities?(n.entities[i]=e,_.EntitiesOnly):(n.ids.push(i),n.entities[i]=e,_.Both)}),updateOne:A(o),updateMany:A(s),upsertOne:A(function(t,e){return a([t],e)}),upsertMany:A(a),removeOne:A(function(t,e){return i([t],e)}),removeMany:A(i),map:A(function(t,e){return s(e.ids.reduce((n,i)=>{const o=t(e.entities[i]);return o!==e.entities[i]&&n.push({id:i,changes:o}),n},[]).filter(({id:t})=>t in e.entities),e)}),mapOne:A(function({map:t,id:e},n){const i=n.entities[e];return i?o({id:e,changes:t(i)},n):_.None})}}const L=function(t={}){const{selectId:e,sortComparer:n}=Object.assign({sortComparer:!1,selectId:t=>t.id},t),i={getInitialState:function(t={}){return Object.assign({ids:[],entities:{}},t)}},o={getSelectors:function(t){const e=t=>t.ids,n=t=>t.entities,i=Object(d.j)(e,n,(t,e)=>t.map(t=>e[t])),o=Object(d.j)(e,t=>t.length);return t?{selectIds:Object(d.j)(t,e),selectEntities:Object(d.j)(t,n),selectAll:Object(d.j)(t,i),selectTotal:Object(d.j)(t,o)}:{selectIds:e,selectEntities:n,selectAll:i,selectTotal:o}}},s=n?function(t,e){const{removeOne:n,removeMany:i,removeAll:o}=T(t);function s(t,e){return a([t],e)}function a(e,n){const i=e.filter(e=>!(B(e,t)in n.entities));return 0===i.length?_.None:(u(i,n),_.Both)}function c(t,e){return r([t],e)}function r(e,n){const i=[],o=e.filter(e=>function(e,n,i){if(!(n.id in i.entities))return!1;const o=Object.assign({},i.entities[n.id],n.changes),s=B(o,t);return delete i.entities[n.id],e.push(o),s!==n.id}(i,e,n)).length>0;if(0===i.length)return _.None;{const t=n.ids,e=[];return n.ids=n.ids.filter((t,i)=>t in n.entities||(e.push(i),!1)),u(i,n),!o&&e.every(e=>n.ids[e]===t[e])?_.EntitiesOnly:_.Both}}function l(e,n){const i=[],o=[];for(const a of e){const e=B(a,t);e in n.entities?o.push({id:e,changes:a}):i.push(a)}const s=r(o,n),c=a(i,n);switch(!0){case c===_.None&&s===_.None:return _.None;case c===_.Both||s===_.Both:return _.Both;default:return _.EntitiesOnly}}function u(n,i){n.sort(e);const o=[];let s=0,a=0;for(;s<n.length&&a<i.ids.length;){const c=n[s],r=B(c,t),l=i.ids[a];e(c,i.entities[l])<=0?(o.push(r),s++):(o.push(l),a++)}i.ids=o.concat(s<n.length?n.slice(s).map(t):i.ids.slice(a)),n.forEach((e,n)=>{i.entities[t(e)]=e})}return{removeOne:n,removeMany:i,removeAll:o,addOne:A(s),updateOne:A(c),upsertOne:A(function(t,e){return l([t],e)}),setAll:A(function(t,e){return e.entities={},e.ids=[],a(t,e),_.Both}),setOne:A(function(e,n){const i=B(e,t);return i in n.entities?(n.ids=n.ids.filter(t=>t!==i),u([e],n),_.Both):s(e,n)}),addMany:A(a),updateMany:A(r),upsertMany:A(l),map:A(function(t,e){return r(e.ids.reduce((n,i)=>{const o=t(e.entities[i]);return o!==e.entities[i]&&n.push({id:i,changes:o}),n},[]),e)}),mapOne:A(function({map:t,id:e},n){const i=n.entities[e];return i?c({id:e,changes:t(i)},n):_.None})}}(e,n):T(e);return Object.assign(Object.assign(Object.assign({selectId:e,sortComparer:n},i),o),s)}(),E=L.getInitialState({travelTime:10}),F=Object(d.i)(E,Object(d.k)(f,(t,{planets:e})=>L.upsertMany(e,t)),Object(d.k)(O,(t,{travelTime:e})=>Object.assign(Object.assign({},t),{travelTime:e})),Object(d.k)(v,t=>L.removeAll(t)));function $(t,e){return F(t,e)}const z="planets",{selectAll:W}=L.getSelectors(),G=Object(d.h)(z),q=Object(d.j)(G,W);let J=(()=>{class t{constructor(t){this.store=t,this.planets$=this.store.select(q)}loadPlanets(){this.store.dispatch(g())}}return t.\u0275fac=function(e){return new(e||t)(h.Wb(d.b))},t.\u0275prov=h.Ib({token:t,factory:t.\u0275fac}),t})();const X={crypton:"Crypton is a planet which lorem ipsum dolor sit amet, consetetursadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyamerat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clitakasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sitamet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et doloremagna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.",etherra:"Etherra is a planet which lorem ipsum dolor sit amet, consetetursadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyamerat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clitakasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sitamet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et doloremagna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."};var Z=n("32Cx"),D=n("0IaG");let V=(()=>{class t{constructor(t){this.dialog=t,this.close=new h.n}get relativePlanetSize(){return Object(x.d)(this.planet)}get relativePlanetMass(){return Object(x.c)(this.planet)}get surfaceGravity(){return Object(x.b)(this.planet)}get description(){var t,e;return X[null===(e=null===(t=this.planet)||void 0===t?void 0:t.name)||void 0===e?void 0:e.toLowerCase()]}explore(){this.dialog.open(Z.a,{width:"400px",data:{}})}}return t.\u0275fac=function(e){return new(e||t)(h.Mb(D.b))},t.\u0275cmp=h.Gb({type:t,selectors:[["app-planet-info"]],inputs:{planet:"planet"},outputs:{close:"close"},decls:38,vars:15,consts:[["mat-icon-button","",1,"close-button",3,"click"],[1,"title"],[1,"no-margin"],[1,"sub-header"],[1,"planet-properties"],["color","primary","selected","","matTooltip","Age"],["color","primary","selected","","matTooltip","Surface gravity in m/s\xb2"],["color","primary","selected","","matTooltip","Average surface temperature in \xb0C"],["color","primary","selected","","matTooltip","Mass compared to earth"],["color","primary","selected","","matTooltip","Size compared to earth"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(h.Sb(0,"button",0),h.Zb("click",function(){return e.close.emit(e.planet)}),h.Sb(1,"mat-icon"),h.vc(2,"close"),h.Rb(),h.Rb(),h.Sb(3,"header",1),h.Sb(4,"h1",2),h.vc(5),h.Rb(),h.Rb(),h.Sb(6,"header",3),h.Nb(7,"mat-divider"),h.Sb(8,"div",4),h.Sb(9,"mat-chip-list"),h.Sb(10,"mat-chip",5),h.vc(11),h.dc(12,"number"),h.Rb(),h.Sb(13,"mat-chip",6),h.vc(14),h.dc(15,"number"),h.Rb(),h.Sb(16,"mat-chip",7),h.vc(17),h.Rb(),h.Sb(18,"mat-chip",8),h.vc(19),h.dc(20,"number"),h.Sb(21,"mat-icon"),h.vc(22,"fitness_center"),h.Rb(),h.Rb(),h.Sb(23,"mat-chip",9),h.vc(24),h.dc(25,"number"),h.Sb(26,"mat-icon"),h.vc(27,"radio_button_checked"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Nb(28,"mat-divider"),h.Rb(),h.Sb(29,"main"),h.Sb(30,"p"),h.vc(31),h.Rb(),h.Rb(),h.Sb(32,"footer"),h.Nb(33,"mat-divider"),h.Sb(34,"button",10),h.Zb("click",function(){return e.explore()}),h.Sb(35,"mat-icon"),h.vc(36,"explore"),h.Rb(),h.vc(37," Explore "),h.Rb(),h.Rb()),2&t&&(h.Cb(5),h.wc(null==e.planet?null:e.planet.name),h.Cb(6),h.xc(" ",h.ec(12,7,(null==e.planet?null:e.planet.age)/1e9)," billion y/o "),h.Cb(3),h.xc(" ",h.ec(15,9,e.surfaceGravity)," m/s\xb2 "),h.Cb(3),h.xc(" ",null==e.planet?null:e.planet.temperature," \xb0C "),h.Cb(2),h.xc(" ",h.ec(20,11,e.relativePlanetMass)," "),h.Cb(5),h.xc(" ",h.ec(25,13,e.relativePlanetSize)," "),h.Cb(7),h.wc(e.description))},directives:[a.a,c.a,l.a,r.b,r.a,s.a],pipes:[i.e],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;justify-content:space-between;overflow-x:hidden;text-align:justify}button.close-button[_ngcontent-%COMP%]{position:absolute;right:10px;top:15px}header[_ngcontent-%COMP%]{margin-bottom:46px}.planet-properties[_ngcontent-%COMP%]{margin-bottom:24px;margin-top:24px}mat-chip[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;height:20px;padding-left:6px;width:20px}main[_ngcontent-%COMP%]{height:100%;overflow-y:scroll}footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}footer[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin-bottom:32px}"],changeDetection:0}),t})();const Y=function(t){return{transform:t}};let K=(()=>{class t{get relativePlanetSize(){return Object(x.d)(this.planet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Gb({type:t,selectors:[["app-planet"]],inputs:{planet:"planet"},decls:1,vars:6,consts:[["matTooltipPosition","above",3,"src","alt","matTooltip","ngStyle"]],template:function(t,e){1&t&&h.Nb(0,"img",0),2&t&&h.hc("src","assets/planets/"+e.planet.name.toLowerCase()+".png",h.oc)("alt",e.planet.name)("matTooltip",e.planet.name)("ngStyle",h.jc(4,Y,"scale("+e.relativePlanetSize+")"))},directives:[s.a,i.m],styles:["[_nghost-%COMP%]{cursor:pointer}img[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),t})();function Q(t,e){if(1&t){const t=h.Tb();h.Sb(0,"app-planet",4),h.Zb("click",function(){h.nc(t);const n=e.$implicit;return h.cc().selectPlanet(n)}),h.Rb()}if(2&t){const t=e.$implicit,n=h.cc();h.Eb("selected",t.id===(null==n.selectedPlanet?null:n.selectedPlanet.id)),h.hc("planet",t)}}function H(t,e){1&t&&(h.Sb(0,"div",5),h.Sb(1,"h4",6),h.vc(2,"Welcome back commander"),h.Rb(),h.vc(3," Click on one of the planets to start your exploration \ud83d\ude80 "),h.Rb()),2&t&&h.hc("@slideOut",void 0)}const U=[{path:"",component:(()=>{class t{constructor(t){this.planetsFacade=t,this.cryptoverse$=this.planetsFacade.planets$}ngOnInit(){this.planetsFacade.loadPlanets()}selectPlanet(t){var e;this.selectedPlanet=(null===(e=this.selectedPlanet)||void 0===e?void 0:e.id)===t.id?null:t}}return t.\u0275fac=function(e){return new(e||t)(h.Mb(J))},t.\u0275cmp=h.Gb({type:t,selectors:[["app-planets"]],decls:7,vars:6,consts:[["mode","side",3,"opened"],[3,"planet","close"],[3,"planet","selected","click",4,"ngFor","ngForOf"],["class","notes",4,"ngIf"],[3,"planet","click"],[1,"notes"],[1,"no-margin"]],template:function(t,e){1&t&&(h.Sb(0,"mat-sidenav-container"),h.Sb(1,"mat-sidenav",0),h.Sb(2,"app-planet-info",1),h.Zb("close",function(){return e.selectedPlanet=null}),h.Rb(),h.Rb(),h.Sb(3,"mat-sidenav-content"),h.tc(4,Q,1,3,"app-planet",2),h.dc(5,"async"),h.tc(6,H,4,1,"div",3),h.Rb(),h.Rb()),2&t&&(h.Cb(1),h.hc("opened",null!=e.selectedPlanet),h.Cb(1),h.hc("planet",e.selectedPlanet),h.Cb(2),h.hc("ngForOf",h.ec(5,4,e.cryptoverse$)),h.Cb(2),h.hc("ngIf",!e.selectedPlanet))},directives:[u.b,u.a,V,u.c,i.k,i.l,K],pipes:[i.b],styles:["[_nghost-%COMP%]{display:block;height:100%;overflow:hidden;width:100%}app-planet[_ngcontent-%COMP%]{margin:80px;transition-duration:.5s;transition-property:transform}app-planet.selected[_ngcontent-%COMP%]{transform:scale(1.4)}mat-sidenav-content[_ngcontent-%COMP%]{align-items:center;justify-content:center}@media screen and (max-width:1000px){mat-sidenav-content[_ngcontent-%COMP%]{flex-direction:column}}.notes[_ngcontent-%COMP%]{background:rgba(40,55,64,.7);border:1px solid hsla(0,0%,100%,.2);border-radius:12px;bottom:48px;margin-left:32px;margin-right:32px;padding:32px;position:absolute}"],data:{animation:[m]},changeDetection:0}),t})()}];let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Kb({type:t}),t.\u0275inj=h.Jb({providers:[J],imports:[[i.c,o.c.forChild(U),d.d.forFeature(z,$),p.b.forFeature([I]),s.b,a.b,c.b,r.c,l.b,u.d]]}),t})()}}]);